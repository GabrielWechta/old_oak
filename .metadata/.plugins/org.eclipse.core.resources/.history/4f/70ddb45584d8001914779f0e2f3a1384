package com.harman.web_pages;

import org.springframework.beans.factory.annotation.Autowired;

import com.harman.database.Employee;
import com.harman.database.EmployeeRepository;
import com.vaadin.flow.component.crud.Crud;
import com.vaadin.flow.component.grid.Grid;
import com.vaadin.flow.component.orderedlayout.VerticalLayout;
import com.vaadin.flow.router.Route;
import com.vaadin.flow.spring.annotation.UIScope;

@Route("users")
@UIScope
public class EmployeesCRUDView extends VerticalLayout {

	@Autowired
	private EmployeeRepository employeeRepository;
	final Crud<Employee> crud;

	public EmployeesCRUDView(EmployeeRepository employeeRepository) {
		this.employeeRepository = employeeRepository;
		this.crud = new Crud<>();
		add(crud);
		listCustomers();
	}

	private void listCustomers() {
		final Grid<Employee> grid = new Grid<>(Employee.class);
		grid.setItems(employeeRepository.findAll());
		crud.setGrid(grid);
		
	}

	
}
